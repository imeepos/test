# 🎯 使用SKER完成系统架构设计 - 详细操作指南

## 准备工作

**1. 访问系统**
```
浏览器打开: http://localhost:3000
```

**2. 登录/注册**
- 如果有账号：输入用户名密码登录
- 如果没有账号：使用Guest模式体验

---

## 📝 Step 1: 创建项目

**操作**:
1. 系统会自动弹出"项目选择器"对话框
2. 点击 **"创建新项目"** 卡片
3. 填写项目信息：
   - **项目名称**: "电商平台系统架构设计"
   - **项目描述**: "设计一个支持高并发、可扩展的电商平台系统架构"
4. 按 **Enter** 或点击 **"创建项目"** 按钮

**预期结果**:
- ✅ 进入空白的无限画布
- ✅ 画布中央显示提示："双击任意位置开始创造"

---

## 🌱 Step 2: 创建第一个组件 (道生一)

**操作**:
1. 在画布任意位置 **双击**
2. 在弹出的输入框中输入：
   ```
   我需要设计一个电商平台的系统架构，
   要求支持10万日活用户，高并发秒杀场景，
   需要考虑微服务架构和云原生部署
   ```
3. 按 **Enter** 确认

**预期结果**:
- ⏳ 组件显示"运行中"状态，出现加载动画
- ⏱️ 等待3-5秒，AI处理完成
- ✅ 组件填充内容：
  ```
  标题：电商平台核心需求分析
  内容：
  📌 用户规模：10万DAU
  📌 核心场景：高并发秒杀、订单处理、支付流程
  📌 技术要求：微服务架构、容器化部署、弹性伸缩
  📌 关键指标：响应时间<200ms、可用性99.9%

  重要性：⭐⭐⭐⭐⭐
  置信度：85%
  ```

---

## 🌿 Step 3: 扩展架构层次设计 (一生二)

**操作 3.1: 创建前端架构组件**
1. 选中"核心需求分析"组件
2. 从组件右侧连接点 **拖拽连线** 到画布右侧空白处
3. 连线悬空时，输入框自动弹出，输入：
   ```
   基于这些需求，设计前端架构方案，
   包括Web端和移动端的技术选型
   ```
4. 按 **Enter**

**预期结果**:
- ✅ 自动生成"前端架构方案"组件
- ✅ 包含内容：React + Next.js、Flutter移动端、CDN加速等
- ✅ 连线自动完成连接

**操作 3.2: 创建后端架构组件**
1. 再次从"核心需求分析"组件 **拖拽连线** 到画布下方
2. 输入：
   ```
   设计后端微服务架构，
   包括服务拆分、API网关、消息队列等
   ```
3. 按 **Enter**

**预期结果**:
- ✅ 生成"后端微服务架构"组件
- ✅ 包含：用户服务、商品服务、订单服务、支付服务、库存服务
- ✅ 提到API网关、服务注册中心、配置中心等

**操作 3.3: 创建数据层架构组件**
1. 从"核心需求分析"再次 **拖拽连线** 到画布左下方
2. 输入：
   ```
   设计数据层架构，
   包括数据库选型、缓存策略、数据同步方案
   ```
3. 按 **Enter**

**当前画布状态**:
```
          ┌─核心需求分析 ⭐⭐⭐⭐⭐─┐
          │   (第一个组件)        │
          └──────────┬────────────┘
                     │
        ┌────────────┼────────────┐
        │            │            │
        ▼            ▼            ▼
  ┌─前端架构┐  ┌─后端架构┐  ┌─数据层架构┐
  │ ⭐⭐⭐⭐ │  │ ⭐⭐⭐⭐⭐ │  │ ⭐⭐⭐⭐  │
  └─────────┘  └─────────┘  └──────────┘
```

---

## 🔗 Step 4: 创建架构整合组件 (二生三)

**操作**:
1. 在画布空白处 **右键**，选择 **"创建空组件"**
2. 空组件出现，显示 ⭕ 图标
3. 从"前端架构"组件 **拖拽连线** 到空组件
4. 从"后端架构"组件 **拖拽连线** 到空组件
5. 从"数据层架构"组件 **拖拽连线** 到空组件
6. 空组件显示："输入: 3个"
7. 点击空组件上的 **▶️ 生成按钮**
8. 在弹出的输入框中输入：
   ```
   整合以上三层架构，
   生成完整的系统架构设计方案，
   包括技术栈选型和部署架构图
   ```
9. 按 **Enter**

**预期结果**:
- ⏳ 空组件变为"处理中"状态
- ✅ AI融合三个输入，生成综合方案
- ✅ 组件填充完整的系统架构设计
- ✅ 重要性自动设置为 ⭐⭐⭐⭐⭐

---

## 🌐 Step 5: 添加非功能性需求分析 (继续扩展)

**操作 5.1: 创建高可用方案**
1. 从"核心需求分析"组件 **拖拽连线** 到画布右上方
2. 输入：
   ```
   设计高可用和容灾方案，
   包括多活数据中心、故障切换、备份恢复
   ```

**操作 5.2: 创建性能优化方案**
1. 从"核心需求分析"组件 **拖拽连线** 到画布左上方
2. 输入：
   ```
   设计性能优化方案，
   包括缓存策略、数据库优化、CDN加速
   ```

**操作 5.3: 创建安全方案**
1. 从"核心需求分析"组件 **拖拽连线**
2. 输入：
   ```
   设计安全架构方案，
   包括认证授权、数据加密、防攻击措施
   ```

---

## 🔮 Step 6: 生成最终架构文档 (三生万物)

**操作**:
1. 在画布空白处 **右键**，创建新的 **空组件** (万物节点)
2. 从画布上 **所有重要组件** 拖拽连线到这个万物节点：
   - 核心需求分析
   - 前端架构方案
   - 后端微服务架构
   - 数据层架构
   - 系统架构整合方案
   - 高可用方案
   - 性能优化方案
   - 安全方案
3. 万物节点显示："输入: 8个"
4. 点击 **▶️ 生成按钮**
5. 输入：
   ```
   基于以上所有分析和设计，
   生成完整的电商平台系统架构设计文档，
   包括架构图、技术选型说明、部署方案、
   监控运维策略和未来扩展规划
   ```
6. 按 **Enter**

**预期结果**:
- ✅ 生成超级完整的架构设计文档
- ✅ 包含所有层面的综合方案
- ✅ 重要性 ⭐⭐⭐⭐⭐

---

## ✏️ Step 7: 优化和细化内容 (万物重生)

**操作**:
1. **双击** "后端微服务架构"组件
2. 弹出优化对话框，输入：
   ```
   优化指令：增加服务间通信的gRPC方案和服务治理细节
   变更原因：需要更详细的微服务通信方案
   变更类型：选择"确定性改进"
   ```
3. 点击 **确认优化**

**预期结果**:
- ⏳ 组件显示"优化中"状态
- ✅ 内容更新，版本号变为 v2
- ✅ 版本历史中记录变更原因
- ✅ 可以随时查看历史版本或回滚

---

## 👁️ Step 8: 使用多层次展示优化阅读体验

**操作**:
1. 点击画布右上角的 **显示模式切换器**
2. 选择 **"概览模式"**：
   - 只显示组件标题和星级
   - 快速理解整体架构思路
3. 切换到 **"预览模式"**：
   - 显示前2-3行关键内容
   - 平衡结构感知和内容预览
4. 切换到 **"详细模式"**：
   - 显示完整内容
   - 适合深度阅读

---

## 🔍 Step 9: 搜索和筛选组件

**操作**:
1. 点击画布顶部的 **搜索框**
2. 输入："微服务"
3. 系统高亮显示所有包含"微服务"的组件

**或者使用筛选**:
1. 点击 **筛选控制器**
2. 设置筛选条件：
   - 重要性：≥4星
   - 置信度：≥80%
3. 画布只显示符合条件的高价值组件

---

## 📋 Step 10: 查看版本历史

**操作**:
1. 选中任意组件
2. 点击组件底部的 **"📋 版本历史"** 按钮
3. 查看该组件的所有变更记录：
   - 版本号
   - 变更时间
   - 变更原因
   - 置信度变化
4. 可以点击 **"查看差异"** 对比版本
5. 可以点击 **"回滚到此版本"** 恢复历史内容

---

## 💾 Step 11: 保存和导出

**操作**:
1. 系统自动保存，无需手动操作
2. 可以点击 **"导出"** 按钮：
   - 导出为Markdown文档
   - 导出为PNG图片
   - 导出为JSON数据

---

## 🎨 完整的画布最终状态

```
                  ┌─核心需求分析 ⭐⭐⭐⭐⭐─┐
                  │   v1                │
                  └──────────┬───────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
        ▼                    ▼                    ▼
  ┌─前端架构─┐        ┌─后端架构─┐        ┌─数据层架构─┐
  │ ⭐⭐⭐⭐  │        │ ⭐⭐⭐⭐⭐  │        │ ⭐⭐⭐⭐   │
  │ v1      │        │ v2      │        │ v1       │
  └─────────┘        └─────────┘        └──────────┘
        │                    │                    │
        └────────────────────┼────────────────────┘
                             ▼
                    ┌─架构整合方案─┐
                    │ ⭐⭐⭐⭐⭐      │
                    │ v1          │
                    └──────────────┘

  ┌─高可用方案─┐    ┌─性能优化─┐    ┌─安全方案─┐
  │ ⭐⭐⭐⭐   │    │ ⭐⭐⭐⭐  │    │ ⭐⭐⭐⭐  │
  └────────────┘    └──────────┘    └──────────┘
        │                  │                │
        └──────────────────┼────────────────┘
                           ▼
                  ┌─完整架构文档─┐
                  │ ⭐⭐⭐⭐⭐      │
                  │ v1 (万物)   │
                  └──────────────┘
```

---

## 🎯 核心操作总结

| 操作 | 快捷方式 | 说明 |
|------|---------|------|
| **创建第一个组件** | 双击画布 | 道生一 |
| **连线扩展** | 拖拽连接点 | 一生二 |
| **创建空组件** | 右键菜单 | 准备融合 |
| **多输入融合** | 连接+生成 | 二生三 |
| **优化组件** | 双击组件 | 万物重生 |
| **切换视图** | 显示模式切换器 | 概览/预览/详细 |
| **搜索组件** | 搜索框 | 快速定位 |
| **筛选组件** | 筛选控制器 | 按条件过滤 |

---

## ✨ 核心理念体验

通过这个完整流程,你体验了SKER的核心设计理念:

1. **从无到有** (道生一): 空白画布 → 第一个想法
2. **自然扩展** (一生二): 拖拽连线 → 思维延伸
3. **智能融合** (二生三): 多输入整合 → 综合方案
4. **无限创造** (三生万物): 全局聚合 → 完整文档
5. **持续优化** (万物重生): 版本迭代 → 内容精炼

---

## 🚀 进阶技巧

1. **使用快捷键**:
   - `Space` + 拖拽 = 移动画布
   - `Ctrl/Cmd` + 滚轮 = 缩放画布
   - `Delete` = 删除选中组件

2. **组件评分**: 给生成的内容打分,帮助系统学习

3. **添加标签**: 为组件添加自定义标签,便于管理

4. **专注模式**: 选中组件后启用,高亮相关连接

这就是使用SKER系统完成系统架构设计的完整操作流程! 🎉
