# SKER ç³»ç»Ÿæ¶æ„åˆ†æ

## æ¦‚è¿°

SKER æ˜¯ä¸€ä¸ªåŸºäºå¾®æœåŠ¡æ¶æ„çš„AIè¾…åŠ©å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œç”±å››ä¸ªæ ¸å¿ƒæœåŠ¡æ¨¡å—æ„æˆï¼Œå½¢æˆå®Œæ•´çš„åˆ†å¸ƒå¼å¤„ç†ç”Ÿæ€ï¼š

```mermaid
graph TB
    A[Frontend - @sker/studio] --> B[@sker/gateway - APIç½‘å…³]
    B --> C[@sker/broker - æ¶ˆæ¯ä»£ç†]
    C --> D[@sker/engine - AIå¼•æ“]
    D --> E[@sker/store - æ•°æ®å­˜å‚¨]

    B -.-> E
    D -.-> E
    C -.-> B
```

## æ ¸å¿ƒæ¨¡å—æ¶æ„

### æœåŠ¡å±‚æ¬¡ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Layer                           â”‚
â”‚                  @sker/studio (React)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Gateway Layer                             â”‚
â”‚           @sker/gateway (Express + Socket.IO)              â”‚
â”‚              â€¢ APIè·¯ç”±  â€¢ è®¤è¯æˆæƒ  â€¢ é™æµæ§åˆ¶               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Message Queue
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Message Broker Layer                       â”‚
â”‚             @sker/broker (RabbitMQ + AMQP)                 â”‚
â”‚              â€¢ ä»»åŠ¡è°ƒåº¦  â€¢ äº‹ä»¶åˆ†å‘  â€¢ è´Ÿè½½å‡è¡¡               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Task Processing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AI Engine Layer                          â”‚
â”‚           @sker/engine (OpenAI Integration)                â”‚
â”‚            â€¢ å†…å®¹ç”Ÿæˆ  â€¢ è¯­ä¹‰åˆ†æ  â€¢ æ‰¹é‡å¤„ç†                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Data Persistence
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Data Storage Layer                         â”‚
â”‚        @sker/store (PostgreSQL + Redis)                    â”‚
â”‚            â€¢ æ•°æ®æ¨¡å‹  â€¢ ç¼“å­˜ç®¡ç†  â€¢ äº‹åŠ¡å¤„ç†                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ¨¡å—è¯¦ç»†åˆ†æ

### 1. @sker/store - æ•°æ®å­˜å‚¨å±‚

**èŒè´£**: ç³»ç»Ÿæ•°æ®çš„æŒä¹…åŒ–å’Œç®¡ç†åŸºç¡€è®¾æ–½

> **ğŸ“¦ åŒ…æ‹†åˆ†ï¼ˆ2025-10-01ï¼‰**: Store å·²æ‹†åˆ†ä¸ºä¸¤ä¸ªåŒ…ï¼š
> - `@sker/store` - æœåŠ¡ç«¯æ•°æ®åº“æ“ä½œï¼ˆä»…ä¾› Store æœåŠ¡ä½¿ç”¨ï¼‰
> - `@sker/store-client` - HTTP å®¢æˆ·ç«¯ï¼ˆä¾›å…¶ä»–å¾®æœåŠ¡ä½¿ç”¨ï¼‰
>
> è¿™ä¸€æ”¹è¿›ä½¿å¾®æœåŠ¡æ¶æ„æ›´æ¸…æ™°ï¼ŒæœåŠ¡é—´é€šè¿‡ HTTP API é€šä¿¡ã€‚

#### æ ¸å¿ƒåŠŸèƒ½
- **PostgreSQLæ•°æ®ç®¡ç†**: å…³ç³»å‹æ•°æ®çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **Redisç¼“å­˜æœåŠ¡**: é«˜æ€§èƒ½ç¼“å­˜å±‚ï¼Œæå‡è®¿é—®é€Ÿåº¦
- **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**: JWT Tokenç”Ÿæˆã€éªŒè¯å’Œç”¨æˆ·æƒé™ç®¡ç†
- **æ•°æ®æ¨¡å‹ç®¡ç†**: Userã€Projectã€Nodeã€Connectionã€AITaskç­‰æ ¸å¿ƒå®ä½“
- **è¿æ¥æ–¹å‘æ”¯æŒ**: connections è¡¨åŒ…å« `bidirectional` æ ‡è®°å¹¶å…¼å®¹ `related` ç±»å‹ï¼Œç¡®ä¿å‰åç«¯è¿çº¿è¯­ä¹‰ä¸€è‡´
- **æ•°æ®åº“è¿ç§»**: ç‰ˆæœ¬åŒ–çš„æ•°æ®åº“ç»“æ„ç®¡ç†å’Œå‡çº§
- **Repositoryæ¨¡å¼**: æ ‡å‡†åŒ–çš„æ•°æ®è®¿é—®å±‚å®ç°
- **HTTP APIæœåŠ¡å™¨**: å¯¹å¤–æä¾› RESTful API æ¥å£

#### æŠ€æœ¯æ ˆ
- **æ•°æ®åº“**: PostgreSQL 8.11+, Redis 4.6+
- **ORM**: åŸç”ŸSQL + ç±»å‹å®‰å…¨çš„Repositoryæ¨¡å¼
- **è®¤è¯**: bcryptjs + jsonwebtoken
- **éªŒè¯**: joiæ•°æ®éªŒè¯
- **æµ‹è¯•**: jestå•å…ƒæµ‹è¯•

#### å¯¹å¤–æ¥å£

**æœåŠ¡ç«¯æ¥å£ï¼ˆ@sker/storeï¼‰**:
```typescript
// Store æœåŠ¡å†…éƒ¨ä½¿ç”¨
storeService.users.*        // ç”¨æˆ·ç®¡ç†
storeService.projects.*     // é¡¹ç›®ç®¡ç†
storeService.nodes.*        // èŠ‚ç‚¹ç®¡ç†
storeService.connections.*  // è¿æ¥ç®¡ç†
storeService.aiTasks.*      // AIä»»åŠ¡ç®¡ç†
storeService.cache()*       // ç¼“å­˜æ“ä½œ
```

**å®¢æˆ·ç«¯æ¥å£ï¼ˆ@sker/store-clientï¼‰**:
```typescript
// å…¶ä»–å¾®æœåŠ¡é€šè¿‡ HTTP è®¿é—®
const client = new StoreClient({ baseURL: 'http://store:3001' })
await client.users.findById(id)
await client.projects.findMany()
await client.aiTasks.create(taskData)
```

### 2. @sker/gateway - APIç½‘å…³å±‚

**èŒè´£**: ç³»ç»Ÿç»Ÿä¸€å…¥å£ï¼Œè´Ÿè´£è·¯ç”±åˆ†å‘å’ŒæœåŠ¡åè°ƒ

#### æ ¸å¿ƒåŠŸèƒ½
- **HTTP APIç½‘å…³**: ç»Ÿä¸€çš„REST APIå…¥å£å’Œè·¯ç”±ç®¡ç†
- **WebSocketç®¡ç†**: å®æ—¶é€šä¿¡è¿æ¥çš„å»ºç«‹ã€ç»´æŠ¤å’Œæ¶ˆæ¯è·¯ç”±
- **èº«ä»½éªŒè¯**: JWT TokenéªŒè¯å’Œæƒé™æ§åˆ¶ä¸­é—´ä»¶
- **è¯·æ±‚é™æµ**: é˜²æŠ¤æœºåˆ¶ï¼Œé¿å…APIæ»¥ç”¨å’ŒDDoSæ”»å‡»
- **å®‰å…¨ä¸­é—´ä»¶**: CORSã€Helmetã€æ•°æ®éªŒè¯ç­‰å®‰å…¨æªæ–½
- **æœåŠ¡é›†æˆ**: ä¸brokerå’ŒstoreæœåŠ¡çš„é›†æˆåè°ƒ

#### ä¾èµ–å…³ç³»
```typescript
dependencies: {
  "@sker/broker": "workspace:*",       // æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ
  "@sker/store-client": "workspace:*", // Store HTTP å®¢æˆ·ç«¯
  "@sker/models": "workspace:*",       // å…±äº«ç±»å‹å®šä¹‰
  "@sker/config": "workspace:*"        // é…ç½®ç®¡ç†
}
```

#### æŠ€æœ¯æ ˆ
- **Webæ¡†æ¶**: Express.js 4.18+
- **å®æ—¶é€šä¿¡**: Socket.IO 4.7+
- **å®‰å…¨**: Helmet, CORS, express-rate-limit
- **éªŒè¯**: express-validator

#### APIç«¯ç‚¹è®¾è®¡
```
/api/nodes/*     - èŠ‚ç‚¹ç®¡ç†API
/api/ai/*        - AIæœåŠ¡API
/api/projects/*  - é¡¹ç›®ç®¡ç†API
/api/auth/*      - è®¤è¯ç›¸å…³API
WebSocket Events - å®æ—¶äº‹ä»¶é€šä¿¡
```

### 3. @sker/engine - AIå¤„ç†å¼•æ“

**èŒè´£**: AIèƒ½åŠ›çš„æ ¸å¿ƒå¤„ç†å’Œæ™ºèƒ½åˆ†ææœåŠ¡

#### æ ¸å¿ƒåŠŸèƒ½
- **å¤šLLMé›†æˆ**: OpenAI GPT-4ã€GPT-3.5-turboç­‰æ¨¡å‹çš„ç»Ÿä¸€æ¥å£
- **æ™ºèƒ½å†…å®¹ç”Ÿæˆ**: åŸºäºä¸Šä¸‹æ–‡çš„é«˜è´¨é‡å†…å®¹åˆ›ä½œ
- **å†…å®¹ä¼˜åŒ–**: ç°æœ‰å†…å®¹çš„ç»“æ„åŒ–æ”¹è¿›å’Œè´¨é‡æå‡
- **å¤šæºèåˆ**: å¤šä¸ªè¾“å…¥æºçš„æ™ºèƒ½æ•´åˆå’Œç»¼åˆåˆ†æ
- **è¯­ä¹‰åˆ†æ**: å†…å®¹çš„æ·±åº¦è¯­ä¹‰ç†è§£å’Œæ ‡ç­¾æå–
- **æç¤ºè¯å·¥ç¨‹**: åŠ¨æ€æç¤ºè¯æ„å»ºå’Œæ¨¡æ¿ç®¡ç†
- **æ‰¹é‡å¤„ç†**: é«˜æ•ˆçš„æ‰¹é‡ä»»åŠ¡å¤„ç†æœºåˆ¶
- **ç‹¬ç«‹APIæœåŠ¡**: å¯ç‹¬ç«‹è¿è¡Œçš„Studio APIæœåŠ¡å™¨

#### å¤„ç†èƒ½åŠ›
```typescript
// ç»Ÿä¸€AIä»»åŠ¡ç±»å‹ (@sker/models v2.0+)
- generate: å†…å®¹ç”Ÿæˆ        // åŸºäºè¾“å…¥ç”Ÿæˆæ–°å†…å®¹
- optimize: å†…å®¹ä¼˜åŒ–        // æ”¹è¿›ç°æœ‰å†…å®¹è´¨é‡
- fusion: å¤šè¾“å…¥èåˆ        // æ•´åˆå¤šä¸ªè¾“å…¥æº
- analyze: è¯­ä¹‰åˆ†æ        // æ·±åº¦è¯­ä¹‰ç†è§£
- expand: å†…å®¹æ‰©å±•         // æ‰©å±•å’Œä¸°å¯Œå†…å®¹
- batch: æ‰¹é‡å¤„ç†          // æ‰¹é‡ä»»åŠ¡å¤„ç†
```

#### æŠ€æœ¯æ ˆ
- **AIé›†æˆ**: OpenAI API 4.0+, tiktoken
- **æœåŠ¡å™¨**: Express.js, ç‹¬ç«‹APIæœåŠ¡å™¨
- **æ„å»º**: Vite, TypeScript
- **Tokenç®¡ç†**: æˆæœ¬ä¼˜åŒ–å’Œä½¿ç”¨ç»Ÿè®¡

### 4. @sker/broker - æ¶ˆæ¯ä»£ç†å±‚

**èŒè´£**: å¼‚æ­¥ä»»åŠ¡è°ƒåº¦å’ŒæœåŠ¡é—´é€šä¿¡åè°ƒ

#### æ ¸å¿ƒåŠŸèƒ½
- **æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç†**: RabbitMQè¿æ¥æ± å’Œæ•…éšœæ¢å¤æœºåˆ¶
- **AIä»»åŠ¡è°ƒåº¦**: æ™ºèƒ½ä»»åŠ¡åˆ†å‘å’Œä¼˜å…ˆçº§ç®¡ç†
- **äº‹ä»¶å‘å¸ƒè®¢é˜…**: ç³»ç»Ÿäº‹ä»¶çš„åˆ†å‘å’Œå¤„ç†
- **è´Ÿè½½å‡è¡¡**: ä»»åŠ¡è´Ÿè½½çš„æ™ºèƒ½åˆ†é…
- **å¯é æ€§ä¿è¯**: æ¶ˆæ¯ç¡®è®¤ã€é‡è¯•æœºåˆ¶å’Œæ­»ä¿¡é˜Ÿåˆ—
- **å®æ—¶åè°ƒ**: WebSocketé›†æˆå’ŒçŠ¶æ€åŒæ­¥

#### æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„
```
Exchanges (ç»Ÿä¸€å¸¸é‡ @sker/models):
â”œâ”€â”€ llm.direct      - AIå¤„ç†ä»»åŠ¡ç›´æ¥äº¤æ¢ (EXCHANGE_NAMES.LLM_DIRECT)
â”œâ”€â”€ events.topic    - ç³»ç»Ÿäº‹ä»¶ä¸»é¢˜äº¤æ¢ (EXCHANGE_NAMES.EVENTS_TOPIC)
â”œâ”€â”€ realtime.fanout - å®æ—¶æ¶ˆæ¯æ‰‡å‡ºäº¤æ¢ (EXCHANGE_NAMES.REALTIME_FANOUT)
â””â”€â”€ ai.results      - AIç»“æœäº¤æ¢æœº (EXCHANGE_NAMES.AI_RESULTS)

Queues (ç»Ÿä¸€å‘½å):
â”œâ”€â”€ llm.process.queue       - AIå¤„ç†ä»»åŠ¡é˜Ÿåˆ— (QUEUE_NAMES.AI_TASKS)
â”œâ”€â”€ result.notify.queue     - å¤„ç†ç»“æœé€šçŸ¥é˜Ÿåˆ— (QUEUE_NAMES.AI_RESULTS)
â”œâ”€â”€ llm.batch.process.queue - æ‰¹å¤„ç†ä»»åŠ¡é˜Ÿåˆ— (QUEUE_NAMES.AI_BATCH)
â”œâ”€â”€ events.websocket.queue  - WebSocketäº‹ä»¶é˜Ÿåˆ— (QUEUE_NAMES.EVENTS_WEBSOCKET)
â””â”€â”€ events.storage.queue    - å­˜å‚¨äº‹ä»¶é˜Ÿåˆ— (QUEUE_NAMES.EVENTS_STORAGE)
```

#### æŠ€æœ¯æ ˆ
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ, amqplib 0.10+
- **è¿æ¥ç®¡ç†**: è¿æ¥æ± å’Œè‡ªåŠ¨é‡è¿
- **æ¶ˆæ¯æ ¼å¼**: ç»“æ„åŒ–æ¶ˆæ¯åè®®

## æ•°æ®æµå’Œäº¤äº’æ¨¡å¼

### å…¸å‹AIå¤„ç†æµç¨‹

```mermaid
sequenceDiagram
    participant F as Frontend
    participant G as Gateway
    participant B as Broker
    participant E as Engine
    participant S as Store

    F->>G: å‘èµ·AIè¯·æ±‚ (HTTP/WS)
    G->>G: èº«ä»½éªŒè¯&é™æµæ£€æŸ¥
    G->>B: å‘å¸ƒAIä»»åŠ¡æ¶ˆæ¯
    B->>B: ä»»åŠ¡è°ƒåº¦&ä¼˜å…ˆçº§åˆ†é…
    B->>E: åˆ†å‘å¤„ç†ä»»åŠ¡
    E->>E: LLMæ¨¡å‹è°ƒç”¨&å†…å®¹ç”Ÿæˆ
    E->>S: ä¿å­˜å¤„ç†ç»“æœ
    S->>B: å‘å¸ƒå®Œæˆäº‹ä»¶
    B->>G: é€šçŸ¥å¤„ç†å®Œæˆ
    G->>F: è¿”å›ç»“æœ (WSæ¨é€)
```

### å…³é”®æ•°æ®å®ä½“

```typescript
// æ ¸å¿ƒæ•°æ®æ¨¡å‹
interface Node {
  id: string
  project_id: string
  user_id: string
  content: string
  title?: string
  importance: 1-5
  confidence: number
  status: 'idle' | 'processing' | 'completed' | 'error'
  position: { x: number, y: number }
  metadata: NodeMetadata
}

interface AITask {
  id: string
  project_id: string
  user_id: string
  type: 'generate' | 'optimize' | 'fusion' | 'analyze' | 'expand'  // ç»Ÿä¸€ä»»åŠ¡ç±»å‹
  status: 'pending' | 'processing' | 'completed' | 'failed'
  input_data: any
  output_data?: any
  estimated_cost: number
}
```

## æŠ€æœ¯é€‰å‹æ€»ç»“

| ç»„ä»¶ | æŠ€æœ¯æ ˆ | ç‰ˆæœ¬ | èŒè´£ |
|------|--------|------|------|
| **Frontend** | React + TypeScript | - | ç”¨æˆ·ç•Œé¢ |
| **Gateway** | Express + Socket.IO | 4.18+ | APIç½‘å…³ |
| **Broker** | RabbitMQ + AMQP | 0.10+ | æ¶ˆæ¯é˜Ÿåˆ— |
| **Engine** | OpenAI API + Express | 4.0+ | AIå¤„ç† |
| **Store** | PostgreSQL + Redis | 8.11+ | æ•°æ®å­˜å‚¨ |

## éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```
localhost:3000  - Frontend (React Dev Server)
localhost:8000  - Gateway API Server
localhost:8000  - Engine API Server (ç‹¬ç«‹æ¨¡å¼)
localhost:5432  - PostgreSQL Database
localhost:6379  - Redis Cache
localhost:5672  - RabbitMQ Message Broker
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®
```
Load Balancer
â”œâ”€â”€ Gateway Cluster (å¤šå®ä¾‹)
â”œâ”€â”€ Engine Cluster (å¤šå®ä¾‹)
â””â”€â”€ Static Assets (CDN)

Message Queue Cluster
â”œâ”€â”€ RabbitMQ Primary
â””â”€â”€ RabbitMQ Replica

Database Cluster
â”œâ”€â”€ PostgreSQL Primary
â”œâ”€â”€ PostgreSQL Replica
â””â”€â”€ Redis Cluster
```

## æ¶æ„ä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªæœåŠ¡èŒè´£å•ä¸€ï¼Œæ˜“äºå¼€å‘å’Œç»´æŠ¤
2. **æ¾è€¦åˆæ¶æ„**: é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®ç°æœåŠ¡é—´è§£è€¦
3. **æ°´å¹³æ‰©å±•**: å„æœåŠ¡å¯ç‹¬ç«‹æ‰©å®¹ï¼Œæ”¯æŒé«˜å¹¶å‘
4. **å®¹é”™èƒ½åŠ›**: æ¶ˆæ¯é˜Ÿåˆ—å’Œé‡è¯•æœºåˆ¶ä¿è¯ç³»ç»Ÿå¯é æ€§
5. **å®æ—¶å“åº”**: WebSocketæ”¯æŒå®æ—¶é€šä¿¡å’ŒçŠ¶æ€åŒæ­¥
6. **æˆæœ¬æ§åˆ¶**: AIæœåŠ¡çš„æ™ºèƒ½è°ƒåº¦å’Œæˆæœ¬ä¼˜åŒ–

## æ½œåœ¨æ”¹è¿›ç‚¹

1. **æœåŠ¡å‘ç°**: å¼•å…¥æœåŠ¡å‘ç°æœºåˆ¶ (å¦‚Consul)
2. **é…ç½®ä¸­å¿ƒ**: ç»Ÿä¸€é…ç½®ç®¡ç†å’ŒåŠ¨æ€æ›´æ–°
3. **ç›‘æ§ä½“ç³»**: å…¨é“¾è·¯ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶
4. **æ—¥å¿—èšåˆ**: é›†ä¸­å¼æ—¥å¿—æ”¶é›†å’Œåˆ†æ
5. **APIç½‘å…³**: è€ƒè™‘ä½¿ç”¨ä¸“ä¸šç½‘å…³ (å¦‚Kong, Zuul)
6. **å®¹å™¨åŒ–**: Dockerå®¹å™¨åŒ–éƒ¨ç½²å’Œç¼–æ’

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘å¯åŠ¨é¡ºåº
1. å¯åŠ¨åŸºç¡€è®¾æ–½: PostgreSQL + Redis + RabbitMQ
2. å¯åŠ¨æ•°æ®å­˜å‚¨æœåŠ¡: `cd packages/store && pnpm run dev`
3. å¯åŠ¨æ¶ˆæ¯ä»£ç†æœåŠ¡: `cd packages/broker && pnpm run dev`
4. å¯åŠ¨AIå¼•æ“æœåŠ¡: `cd packages/engine && pnpm run server:dev`
5. å¯åŠ¨APIç½‘å…³æœåŠ¡: `cd packages/gateway && pnpm run dev`
6. å¯åŠ¨å‰ç«¯åº”ç”¨: `cd apps/studio && pnpm run dev`

### ç¯å¢ƒå˜é‡é…ç½®
å‚è§å„æ¨¡å—çš„ `.env.example` æ–‡ä»¶å’Œ README è¯´æ˜ã€‚

---

æ­¤æ¶æ„æ–‡æ¡£å°†éšç³»ç»Ÿæ¼”è¿›æŒç»­æ›´æ–°ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›å‡†ç¡®çš„æŠ€æœ¯å‚è€ƒã€‚
