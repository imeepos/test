@tailwind base;
@tailwind components;
@tailwind utilities;

/* 全局样式 */
@layer base {
  * {
    @apply border-sidebar-border;
  }

  body {
    @apply bg-canvas-bg text-sidebar-text;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* 滚动条样式 */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-sidebar-bg;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-sidebar-border rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-sidebar-text-muted;
  }
}

/* React Flow 自定义样式 */
@layer components {
  .react-flow__background {
    background-color: #0f1015 !important;
  }

  .react-flow__controls {
    background-color: #252631 !important;
    border: 1px solid #343640 !important;
    border-radius: 0.5rem !important;
  }

  .react-flow__controls-button {
    background-color: transparent !important;
    border: none !important;
    color: #e2e4e9 !important;
  }

  .react-flow__controls-button:hover {
    background-color: #2d2e3a !important;
  }

  .react-flow__minimap {
    background-color: #252631 !important;
    border: 1px solid #343640 !important;
    border-radius: 0.5rem !important;
  }

  .react-flow__edge-path {
    stroke: #6366f1 !important;
  }

  .react-flow__handle {
    background-color: #6366f1 !important;
    border: 2px solid #6366f1 !important;
  }

  .react-flow__handle.connecting {
    background-color: #6366f1 !important;
  }

  .react-flow__handle.valid {
    background-color: #10b981 !important;
  }

  .markdown-content {
    @apply text-sm leading-relaxed text-sidebar-text space-y-3;
  }

  .markdown-content h1,
  .markdown-content h2,
  .markdown-content h3 {
    @apply text-sidebar-text font-semibold;
  }

  .markdown-content h1 {
    @apply text-xl;
  }

  .markdown-content h2 {
    @apply text-lg;
  }

  .markdown-content h3 {
    @apply text-base;
  }

  .markdown-content p {
    @apply text-sidebar-text leading-relaxed;
  }

  .markdown-content ul {
    @apply list-disc pl-5 space-y-1;
  }

  .markdown-content ol {
    @apply list-decimal pl-5 space-y-1;
  }

  .markdown-content li {
    @apply text-sidebar-text;
  }

  .markdown-content code {
    @apply font-mono text-xs bg-sidebar-bg/60 border border-sidebar-border px-1.5 py-0.5 rounded;
  }

  .markdown-content pre {
    @apply bg-sidebar-bg/40 border border-sidebar-border rounded-lg p-3 overflow-x-auto;
  }

  .markdown-content blockquote {
    @apply border-l-4 border-sidebar-border pl-3 text-sidebar-text-muted italic;
  }

  .markdown-content hr {
    @apply border-sidebar-border my-3;
  }

  .markdown-content table {
    @apply w-full text-sm text-left border-collapse;
  }

  .markdown-content th {
    @apply text-sidebar-text font-semibold py-2 pr-4 border-b border-sidebar-border;
  }

  .markdown-content td {
    @apply text-sidebar-text py-2 pr-4 border-b border-sidebar-border;
  }

  .markdown-content img {
    @apply max-w-full rounded-lg border border-sidebar-border;
  }

  .markdown-content a {
    @apply text-sidebar-accent underline-offset-2 hover:underline;
  }
}
